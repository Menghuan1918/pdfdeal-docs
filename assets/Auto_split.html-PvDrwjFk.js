import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o,c as a,a as s,b as l,d as e,e as n,r as u}from"./app-Vpl1iG5j.js";const r={},p={id:"auto-split-md",tabindex:"-1"},h={class:"header-anchor",href:"#auto-split-md"},c={id:"auto-split-mds",tabindex:"-1"},k={class:"header-anchor",href:"#auto-split-mds"};function m(g,t){const i=u("Badge");return o(),a("div",null,[t[21]||(t[21]=s('<p>您可能需要安装一些额外依赖以使用：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --upgrade</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;pdfdeal[tools]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这个工具将会尝试按照标题对 MD 文档进行拆分，并为其添加分段标识符，以方便与其他 RAG 工具(例如fastgpt，Dify等)结合使用。</p><p>目录：</p><ul><li><a href="#auto-split-md">处理单个 MD 文档</a></li><li><a href="#auto-split-mds">处理某个目录中的 MD 文档</a></li></ul>',5)),l("h2",p,[l("a",h,[l("span",null,[t[0]||(t[0]=e("auto_split_md")),n(i,{text:"需要0.2.4+版本",type:"warning"})])])]),t[22]||(t[22]=l("p",null,"自动分割 Markdown 文件。",-1)),t[23]||(t[23]=l("h3",{id:"参数",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#参数"},[l("span",null,"参数")])],-1)),l("table",null,[t[9]||(t[9]=l("thead",null,[l("tr",null,[l("th",null,"参数"),l("th",null,"类型"),l("th",null,"默认值"),l("th",null,"描述")])],-1)),l("tbody",null,[t[5]||(t[5]=l("tr",null,[l("td",null,[l("code",null,"mdfile")]),l("td",null,[l("code",null,"str")]),l("td",null,"必填"),l("td",null,"Markdown 文件路径")],-1)),l("tr",null,[l("td",null,[t[1]||(t[1]=l("code",null,"mode",-1)),n(i,{text:"需要1.0.1+版本",type:"warning"})]),t[2]||(t[2]=l("td",null,[l("code",null,"str")],-1)),t[3]||(t[3]=l("td",null,[l("code",null,'"auto"')],-1)),t[4]||(t[4]=l("td",null,[e("分割方式。支持 "),l("code",null,"auto"),e("（依次尝试H3、H2、H1）、"),l("code",null,"H1"),e("（按一级标题分割）、"),l("code",null,"H2"),e("（按二级标题分割）、"),l("code",null,"H3"),e("（按三级标题分割）")],-1))]),t[6]||(t[6]=l("tr",null,[l("td",null,[l("code",null,"out_type")]),l("td",null,[l("code",null,"str")]),l("td",null,[l("code",null,'"single"')]),l("td",null,[e("输出方式。目前支持 "),l("code",null,"single"),e("（输出为一个文件）和 "),l("code",null,"replace"),e("（替换原文件）以及"),l("code",null,"multi"),e("（按段输出多个文件）")])],-1)),t[7]||(t[7]=l("tr",null,[l("td",null,[l("code",null,"split_str")]),l("td",null,[l("code",null,"str")]),l("td",null,[l("code",null,'"=+=+=+=+=+=+=+=+="')]),l("td",null,"用于分割 Markdown 文件的字符串")],-1)),t[8]||(t[8]=l("tr",null,[l("td",null,[l("code",null,"output_path")]),l("td",null,[l("code",null,"str")]),l("td",null,[l("code",null,'"./Output"')]),l("td",null,[e("输出文件路径。当 "),l("code",null,"out_type"),e(" 为 "),l("code",null,"replace"),e(" 时无效")])],-1))])]),t[24]||(t[24]=s('<h3 id="返回值" tabindex="-1"><a class="header-anchor" href="#返回值"><span>返回值</span></a></h3><p>返回一个包含两个元素的元组 <code>(str, bool)</code>：</p><ol><li><code>str</code>: 输出文件路径</li><li><code>bool</code>: 文件是否被分割</li></ol><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h3><ul><li>目前仅支持按标题分割</li><li>输出方式为<code>multi</code>时，将会按段输出多个文件，其会以<code>源文件名+分段标题.md</code>命名，且此时返回的是文件夹路径</li></ul>',5)),l("h2",c,[l("a",k,[l("span",null,[t[10]||(t[10]=l("code",null,"auto_split_mds",-1)),n(i,{text:"需要0.2.4+版本",type:"warning"})])])]),t[25]||(t[25]=l("p",null,"将文件夹中的 Markdown 文件进行分割。",-1)),t[26]||(t[26]=l("h3",{id:"参数-1",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#参数-1"},[l("span",null,"参数")])],-1)),l("table",null,[t[20]||(t[20]=l("thead",null,[l("tr",null,[l("th",null,"参数"),l("th",null,"类型"),l("th",null,"默认值"),l("th",null,"描述")])],-1)),l("tbody",null,[t[15]||(t[15]=l("tr",null,[l("td",null,[l("code",null,"mdpath")]),l("td",null,[l("code",null,"str")]),l("td",null,"必填"),l("td",null,"包含 Markdown 文件的文件夹路径")],-1)),l("tr",null,[l("td",null,[t[11]||(t[11]=l("code",null,"mode",-1)),n(i,{text:"需要1.0.1+版本",type:"warning"})]),t[12]||(t[12]=l("td",null,[l("code",null,"str")],-1)),t[13]||(t[13]=l("td",null,[l("code",null,'"auto"')],-1)),t[14]||(t[14]=l("td",null,[e("分割方式。支持 "),l("code",null,"auto"),e("（依次尝试H3、H2、H1）、"),l("code",null,"H1"),e("（按一级标题分割）、"),l("code",null,"H2"),e("（按二级标题分割）、"),l("code",null,"H3"),e("（按三级标题分割）")],-1))]),t[16]||(t[16]=l("tr",null,[l("td",null,[l("code",null,"out_type")]),l("td",null,[l("code",null,"str")]),l("td",null,[l("code",null,'"single"')]),l("td",null,[e("输出方式。目前支持 "),l("code",null,"single"),e("（输出为一个文件）和 "),l("code",null,"replace"),e("（替换原文件）以及"),l("code",null,"multi"),e("（按段输出多个文件）")])],-1)),t[17]||(t[17]=l("tr",null,[l("td",null,[l("code",null,"split_str")]),l("td",null,[l("code",null,"str")]),l("td",null,[l("code",null,'"=+=+=+=+=+=+=+=+="')]),l("td",null,"用于分割 Markdown 文件的字符串")],-1)),t[18]||(t[18]=l("tr",null,[l("td",null,[l("code",null,"output_path")]),l("td",null,[l("code",null,"str")]),l("td",null,[l("code",null,'"./Output"')]),l("td",null,[e("输出分割文件的路径。当 "),l("code",null,"out_type"),e(" 为 "),l("code",null,"replace"),e(" 时无效")])],-1)),t[19]||(t[19]=l("tr",null,[l("td",null,[l("code",null,"recursive")]),l("td",null,[l("code",null,"bool")]),l("td",null,[l("code",null,"True")]),l("td",null,"是否递归搜索子目录")],-1))])]),t[27]||(t[27]=s(`<h3 id="返回值-1" tabindex="-1"><a class="header-anchor" href="#返回值-1"><span>返回值</span></a></h3><p>返回一个包含三个元素的元组 <code>(list1, list2, bool)</code>：</p><ol><li><p><code>list1</code> (<code>list</code>): 输出文件列表</p><ul><li>元素为输出文件路径（字符串）</li><li>如果某些文件未成功分割，则元素为空字符串 <code>&quot;&quot;</code></li></ul></li><li><p><code>list2</code> (<code>list</code>): 错误信息及其原始文件路径列表</p><ul><li>元素为字典，包含两个键： <ul><li><code>&#39;error&#39;</code>: 错误信息（字符串）</li><li><code>&#39;path&#39;</code>: 原始文件路径（字符串）</li></ul></li><li>如果某些文件成功分割，则元素为空字符串 <code>&quot;&quot;</code></li></ul></li><li><p><code>bool</code> (<code>bool</code>): 处理状态</p><ul><li><code>True</code>: 至少有一个文件处理失败</li><li><code>False</code>: 全部文件处理成功</li></ul></li></ol><h3 id="注意事项-1" tabindex="-1"><a class="header-anchor" href="#注意事项-1"><span>注意事项</span></a></h3><ul><li><code>list1</code> 和 <code>list2</code> 的长度相同</li><li>当 <code>out_type</code> 为 <code>replace</code> 时，<code>output_path</code> 参数无效</li><li>输出方式为<code>multi</code>时，将会按段输出多个文件，其会以<code>源文件名+分段标题.md</code>命名，且此时返回的是文件夹路径</li></ul><h3 id="示范代码" tabindex="-1"><a class="header-anchor" href="#示范代码"><span>示范代码</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pdfdeal.file_tools </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> auto_split_mds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">succese, failed, flag </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> auto_split_mds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">mdpath</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Output&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">out_type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;replace&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(succese, failed, flag)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7))])}const b=d(r,[["render",m],["__file","Auto_split.html.vue"]]),A=JSON.parse('{"path":"/zh/guide/Tools/Auto_split.html","title":"MD文档拆分","lang":"zh-CN","frontmatter":{"title":"MD文档拆分","icon":"scissors","description":"您可能需要安装一些额外依赖以使用： 这个工具将会尝试按照标题对 MD 文档进行拆分，并为其添加分段标识符，以方便与其他 RAG 工具(例如fastgpt，Dify等)结合使用。 目录： 处理单个 MD 文档 处理某个目录中的 MD 文档 auto_split_md 自动分割 Markdown 文件。 参数 返回值 返回一个包含两个元素的元组 (str,...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://menghuan1918.github.io/pdfdeal-docs/pdfdeal-docs/guide/Tools/Auto_split.html"}],["meta",{"property":"og:url","content":"https://menghuan1918.github.io/pdfdeal-docs/pdfdeal-docs/zh/guide/Tools/Auto_split.html"}],["meta",{"property":"og:site_name","content":"pdfdeal"}],["meta",{"property":"og:title","content":"MD文档拆分"}],["meta",{"property":"og:description","content":"您可能需要安装一些额外依赖以使用： 这个工具将会尝试按照标题对 MD 文档进行拆分，并为其添加分段标识符，以方便与其他 RAG 工具(例如fastgpt，Dify等)结合使用。 目录： 处理单个 MD 文档 处理某个目录中的 MD 文档 auto_split_md 自动分割 Markdown 文件。 参数 返回值 返回一个包含两个元素的元组 (str,..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-12-18T05:13:02.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-18T05:13:02.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MD文档拆分\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-12-18T05:13:02.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Menghuan1918\\",\\"url\\":\\"https://github.com/Menghuan1918\\"}]}"]]},"headers":[{"level":2,"title":"auto_split_md","slug":"auto-split-md","link":"#auto-split-md","children":[{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"返回值","slug":"返回值","link":"#返回值","children":[]},{"level":3,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]}]},{"level":2,"title":"auto_split_mds","slug":"auto-split-mds","link":"#auto-split-mds","children":[{"level":3,"title":"参数","slug":"参数-1","link":"#参数-1","children":[]},{"level":3,"title":"返回值","slug":"返回值-1","link":"#返回值-1","children":[]},{"level":3,"title":"注意事项","slug":"注意事项-1","link":"#注意事项-1","children":[]},{"level":3,"title":"示范代码","slug":"示范代码","link":"#示范代码","children":[]}]}],"git":{"createdTime":1723530045000,"updatedTime":1734498782000,"contributors":[{"name":"Menghuan","email":"Menghuan2003@outlook.com","commits":3},{"name":"Menghuan1918","email":"menghuan2003@outlook.com","commits":2},{"name":"Menghuan1918","email":"Menghuan2003@outlook.com","commits":1}]},"readingTime":{"minutes":2.56,"words":769},"filePathRelative":"zh/guide/Tools/Auto_split.md","localizedDate":"2024年8月13日","autoDesc":true}');export{b as comp,A as data};

import{_ as n,a as r,b as d}from"./build-BaIPY2Qg.js";import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,c as o,d as h,w as a,b as i,e as s,a as g,o as c}from"./app-DaHzhP8M.js";const u={},b=i("h2",{id:"安装并配置相应的库",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#安装并配置相应的库"},[i("span",null,"安装并配置相应的库")])],-1),m=i("p",null,"为避免不必要的麻烦，请使用虚拟环境：",-1),y=i("ul",null,[i("li",null,[i("a",{href:"https://docs.anaconda.com/miniconda/",target:"_blank",rel:"noopener noreferrer"},"miniconda3"),s(",conda的最小化安装版本，当然您也可以直接使用Anaconda。")]),i("li",null,[i("a",{href:"https://github.com/astral-sh/uv",target:"_blank",rel:"noopener noreferrer"},"uv"),s("，一个非常快的包安装程序和解析器，使用Rust构建。")])],-1),A=i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"conda"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," create"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -n"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," rag"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," python="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"3.12")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"conda"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," activate"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," rag")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pip"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --upgrade"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," pdfdeal"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," graphrag")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),F=i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"uv"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," venv")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"source"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," .venv/bin/activate"),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-dark":"#7F848E","--shiki-light-font-style":"italic","--shiki-dark-font-style":"italic"}}," # For Linux")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"source"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," .venv/Scripts/activate"),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-dark":"#7F848E","--shiki-light-font-style":"italic","--shiki-dark-font-style":"italic"}}," # For Windows")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"uv"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," pip"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --upgrade"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," graphrag"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," pdfdeal")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),v=g(`<h2 id="step1-转换pdf" tabindex="-1"><a class="header-anchor" href="#step1-转换pdf"><span>Step1:转换PDF</span></a></h2><p>新建两个文件夹，用于存储处理前的PDF以及处理后的txt文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./pdf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./ragtest/input</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>把要处理的pdf丢到pdf文件夹中，这儿使用的graphrag<a href="https://arxiv.org/pdf/2404.16130" target="_blank" rel="noopener noreferrer">论文本身</a>以及<a href="https://arxiv.org/pdf/2306.04136" target="_blank" rel="noopener noreferrer">参考文献</a>。</p><p>前往<a href="https://doc2x.noedgeai.com/" target="_blank" rel="noopener noreferrer">Doc2X</a>，点击身份信息，复制你的身份令牌作为密匙。</p><p>使用<code>pdfdeal</code>的CLI工具<code>doc2x</code>进行批处理，请加上长标示<code>--graphrag</code>以启用对graphrag的特殊适配：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">doc2x</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Your Key Here&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./ragtest/input</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --graphrag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./pdf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="`+n+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>等候其处理完成：</p><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="step2-构建知识图谱" tabindex="-1"><a class="header-anchor" href="#step2-构建知识图谱"><span>Step2:构建知识图谱</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> graphrag.index</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --init</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./ragtest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改<code>settings.yaml</code>以及<code>.env</code>文件，随后进行构建：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> graphrag.index</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./ragtest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>构建完成后您就可以对graphrag发起提问了，使用不同的回答策略：</p>',16),f=i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"python"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -m"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," graphrag.query"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"--root "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"./ragtest"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"--method "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"global"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"Q"')])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),C=i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"python"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -m"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," graphrag.query"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"--root "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"./ragtest"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"--method "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"local"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"Q"')])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),_=i("h2",{id:"参见",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#参见"},[i("span",null,"参见")])],-1),x=i("ul",null,[i("li",null,[i("a",{href:"https://microsoft.github.io/graphrag/",target:"_blank",rel:"noopener noreferrer"},"graphrag官网")]),i("li",null,[i("a",{href:"https://blog.menghuan1918.com/posts/graphrag_doc2x_deepseek.html",target:"_blank",rel:"noopener noreferrer"},"将PDF知识图谱化：graphrag+Doc2X+DeepSeek")])],-1);function B(D,E){const l=p("CodeTabs");return c(),o("div",null,[b,m,y,h(l,{id:"18",data:[{id:"conda"},{id:"uv"}],"tab-id":"python"},{title0:a(({value:e,isActive:t})=>[s("conda")]),title1:a(({value:e,isActive:t})=>[s("uv")]),tab0:a(({value:e,isActive:t})=>[A]),tab1:a(({value:e,isActive:t})=>[F]),_:1}),v,h(l,{id:"66",data:[{id:"global"},{id:"local"}]},{title0:a(({value:e,isActive:t})=>[s("global")]),title1:a(({value:e,isActive:t})=>[s("local")]),tab0:a(({value:e,isActive:t})=>[f]),tab1:a(({value:e,isActive:t})=>[C]),_:1}),_,x])}const T=k(u,[["render",B],["__file","graphrag.html.vue"]]),N=JSON.parse('{"path":"/zh/demo/graphrag.html","title":"graphrag集成","lang":"zh-CN","frontmatter":{"title":"graphrag集成","category":["Guide"],"icon":"diagram-project","description":"安装并配置相应的库 为避免不必要的麻烦，请使用虚拟环境： miniconda3,conda的最小化安装版本，当然您也可以直接使用Anaconda。 uv，一个非常快的包安装程序和解析器，使用Rust构建。 Step1:转换PDF 新建两个文件夹，用于存储处理前的PDF以及处理后的txt文件： 把要处理的pdf丢到pdf文件夹中，这儿使用的graphra...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://menghuan1918.github.io/pdfdeal-docs/pdfdeal-docs/demo/graphrag.html"}],["meta",{"property":"og:url","content":"https://menghuan1918.github.io/pdfdeal-docs/pdfdeal-docs/zh/demo/graphrag.html"}],["meta",{"property":"og:site_name","content":"pdfdeal"}],["meta",{"property":"og:title","content":"graphrag集成"}],["meta",{"property":"og:description","content":"安装并配置相应的库 为避免不必要的麻烦，请使用虚拟环境： miniconda3,conda的最小化安装版本，当然您也可以直接使用Anaconda。 uv，一个非常快的包安装程序和解析器，使用Rust构建。 Step1:转换PDF 新建两个文件夹，用于存储处理前的PDF以及处理后的txt文件： 把要处理的pdf丢到pdf文件夹中，这儿使用的graphra..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-07-16T07:25:09.000Z"}],["meta",{"property":"article:author","content":"Menghuan1918"}],["meta",{"property":"article:modified_time","content":"2024-07-16T07:25:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"graphrag集成\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-16T07:25:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Menghuan1918\\",\\"url\\":\\"https://github.com/Menghuan1918\\"}]}"]]},"headers":[{"level":2,"title":"安装并配置相应的库","slug":"安装并配置相应的库","link":"#安装并配置相应的库","children":[]},{"level":2,"title":"Step1:转换PDF","slug":"step1-转换pdf","link":"#step1-转换pdf","children":[]},{"level":2,"title":"Step2:构建知识图谱","slug":"step2-构建知识图谱","link":"#step2-构建知识图谱","children":[]},{"level":2,"title":"参见","slug":"参见","link":"#参见","children":[]}],"git":{"createdTime":1720950344000,"updatedTime":1721114709000,"contributors":[{"name":"Menghuan1918","email":"menghuan2003@outlook.com","commits":2}]},"readingTime":{"minutes":1.21,"words":364},"filePathRelative":"zh/demo/graphrag.md","localizedDate":"2024年7月14日","autoDesc":true}');export{T as comp,N as data};

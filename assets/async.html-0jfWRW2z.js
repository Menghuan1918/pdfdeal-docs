import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as e,e as l,o as r,r as c}from"./app-B9nswgQd.js";const i={};function h(n,t){const d=c("Mermaid");return r(),o("div",null,[t[0]||(t[0]=e('<p>使用以下语句导入所有的异步请求函数：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pdfdeal.Doc2X.Convert </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="请求流程" tabindex="-1"><a class="header-anchor" href="#请求流程"><span>请求流程</span></a></h2>',3)),l(d,{id:"mermaid-7",code:"eJyFkElPwkAYhu/+irl5Itw9mKiAR030VohpsCxBStOWRG/gwmLYVAIKSILiEheKCVsKhT8z30w5+RdsOsSTxDm+88w7z/cFZV4KoX3XCrLOBgfZPEwT1Liat/oOPHrDuo5nLZLUfMjhWEebHLTzkBmY+jseG3jcptkcNhp4pENmSCpdliBZCMiCEjpQYxFB9NnVm/b7LY6Wv5ajyCwMoVgxO7N5tbMAeL9fUBR27xXh+RQbM1p+pbVzcqutKhHHKkwS0O5ZAWgpyN19T3K03iOFJ+im4GLA9JZWMrst287Fse6lMGJl82yP3J/BZ5V0+l5x1+UhlTQeD9bQ7s7ePnLyUtgpHfFqICZHnbxyIvqd0mEAWfL1Kc2m/4XD0SCzctlWbs6claHejMfDhyx327mH23b/XaCovBpXGOux2e1Fh/nySJolejkgiSRc56iuWTak8QHGA0yK1goXwPiGNBtecV4rQqnAlvL7mXAsxWQVgTaBtM6G8a38AH9uLPo="}),t[1]||(t[1]=e('<h2 id="refresh-key" tabindex="-1"><a class="header-anchor" href="#refresh-key"><span><code>refresh_key</code></span></a></h2><p>通过个人密钥获取访问令牌access_token。</p><h3 id="参数" tabindex="-1"><a class="header-anchor" href="#参数"><span>参数</span></a></h3><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>key</code></td><td><code>str</code></td><td>个人密钥</td></tr></tbody></table><h3 id="异常" tabindex="-1"><a class="header-anchor" href="#异常"><span>异常</span></a></h3><table><thead><tr><th>异常</th><th>描述</th></tr></thead><tbody><tr><td><code>Exception</code></td><td>验证密钥失败</td></tr></tbody></table><h3 id="返回值" tabindex="-1"><a class="header-anchor" href="#返回值"><span>返回值</span></a></h3><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>str</code></td><td>访问令牌</td></tr></tbody></table><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h3><ul><li>该函数使用 <code>@async_retry()</code> 装饰器，其会在失败时自动退避重试两次。</li></ul><h2 id="upload-pdf" tabindex="-1"><a class="header-anchor" href="#upload-pdf"><span><code>upload_pdf</code></span></a></h2><p>异步上传 PDF 文件到服务器并返回文件的 UUID。</p><h3 id="参数-1" tabindex="-1"><a class="header-anchor" href="#参数-1"><span>参数</span></a></h3><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>apikey</code></td><td><code>str</code></td><td>必填</td><td>API 密钥</td></tr><tr><td><code>pdffile</code></td><td><code>str</code></td><td>必填</td><td>PDF 文件路径</td></tr><tr><td><code>ocr</code></td><td><code>bool</code></td><td><code>True</code></td><td>是否进行 OCR 处理</td></tr><tr><td><code>translate</code></td><td><code>bool</code></td><td><code>False</code></td><td>是否进行翻译</td></tr><tr><td><code>language</code></td><td><code>str</code></td><td><code>&quot;zh&quot;</code></td><td>文件的语言，仅在 <code>translate</code> 为 <code>True</code> 时有效</td></tr><tr><td><code>model</code></td><td><code>str</code></td><td><code>&quot;deepseek&quot;</code></td><td>翻译模型，仅在 <code>translate</code> 为 <code>True</code> 时有效</td></tr></tbody></table><h3 id="异常-1" tabindex="-1"><a class="header-anchor" href="#异常-1"><span>异常</span></a></h3><table><thead><tr><th>异常</th><th>描述</th></tr></thead><tbody><tr><td><code>FileError</code></td><td>输入文件大小过大</td></tr><tr><td><code>FileError</code></td><td>打开文件错误</td></tr><tr><td><code>RateLimit</code></td><td>请求速率限制超出</td></tr><tr><td><code>Exception</code></td><td>上传文件错误</td></tr></tbody></table><h3 id="返回值-1" tabindex="-1"><a class="header-anchor" href="#返回值-1"><span>返回值</span></a></h3><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>str</code></td><td>文件的 UUID</td></tr></tbody></table><h3 id="注意事项-1" tabindex="-1"><a class="header-anchor" href="#注意事项-1"><span>注意事项</span></a></h3><ul><li>该函数使用 <code>@async_retry()</code> 装饰器，其会在失败时自动退避重试两次。</li><li>当 <code>translate</code> 为 <code>True</code> 时，<code>language</code> 和 <code>model</code> 参数才有效。</li></ul><div class="hint-container caution"><p class="hint-container-title">警告</p><p>请注意，以上的<code>translate</code>翻译接口由抓包获得传递方式并实现，并非官方支持，不保证可用性</p></div><h2 id="upload-img" tabindex="-1"><a class="header-anchor" href="#upload-img"><span><code>upload_img</code></span></a></h2><p>异步上传图像文件到服务器并返回文件的UUID。</p><h3 id="参数-2" tabindex="-1"><a class="header-anchor" href="#参数-2"><span>参数</span></a></h3><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>apikey</code></td><td><code>str</code></td><td>必填</td><td>API密钥</td></tr><tr><td><code>imgfile</code></td><td><code>str</code></td><td>必填</td><td>图像文件路径</td></tr><tr><td><code>formula</code></td><td><code>bool</code></td><td><code>False</code></td><td>是否为纯公式模式</td></tr><tr><td><code>img_correction</code></td><td><code>bool</code></td><td><code>False</code></td><td>是否进行图像校正</td></tr></tbody></table><h3 id="异常-2" tabindex="-1"><a class="header-anchor" href="#异常-2"><span>异常</span></a></h3><table><thead><tr><th>异常</th><th>描述</th></tr></thead><tbody><tr><td><code>FileError</code></td><td>图像文件大小过大</td></tr><tr><td><code>FileError</code></td><td>打开文件错误</td></tr><tr><td><code>RateLimit</code></td><td>请求速率限制超出</td></tr><tr><td><code>Exception</code></td><td>上传文件错误</td></tr></tbody></table><h3 id="返回值-2" tabindex="-1"><a class="header-anchor" href="#返回值-2"><span>返回值</span></a></h3><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>str</code></td><td>文件的UUID</td></tr></tbody></table><h3 id="注意事项-2" tabindex="-1"><a class="header-anchor" href="#注意事项-2"><span>注意事项</span></a></h3><ul><li>该函数使用 <code>@async_retry()</code> 装饰器，其会在失败时自动退避重试两次。</li></ul><h2 id="uuid-status" tabindex="-1"><a class="header-anchor" href="#uuid-status"><span><code>uuid_status</code></span></a></h2><p>获取文件状态的异步函数，同时适用于PDF和图片的UUID。</p><h3 id="参数-3" tabindex="-1"><a class="header-anchor" href="#参数-3"><span>参数</span></a></h3><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>apikey</code></td><td><code>str</code></td><td>必填</td><td>API 密钥</td></tr><tr><td><code>uuid</code></td><td><code>str</code></td><td>必填</td><td>文件的 UUID</td></tr><tr><td><code>convert</code></td><td><code>bool</code></td><td><code>False</code></td><td>是否进行转换</td></tr><tr><td><code>translate</code></td><td><code>bool</code></td><td><code>False</code></td><td>是否使用的翻译接口</td></tr></tbody></table><h3 id="返回值-3" tabindex="-1"><a class="header-anchor" href="#返回值-3"><span>返回值</span></a></h3><p>返回一个包含三个元素的元组 <code>(progress, status, texts)</code>：</p><ol><li><code>progress</code> (<code>int</code>): 进度百分比</li><li><code>status</code> (<code>str</code>): 状态描述</li><li><code>texts</code> (<code>list</code>): 文本列表，识别的纯文本结果</li></ol><h3 id="异常-3" tabindex="-1"><a class="header-anchor" href="#异常-3"><span>异常</span></a></h3><ul><li><code>RuntimeError</code>: 页面限制超出</li><li><code>RuntimeError</code>: 未知状态</li><li><code>Exception</code>: 获取状态错误</li></ul><h3 id="注意事项-3" tabindex="-1"><a class="header-anchor" href="#注意事项-3"><span>注意事项</span></a></h3><ul><li>该函数使用 <code>@async_retry()</code> 装饰器，其会在失败时自动退避重试两次。</li></ul><div class="hint-container caution"><p class="hint-container-title">警告</p><p>请注意，以上的<code>translate</code>翻译接口由抓包获得传递方式并实现，并非官方支持，不保证可用性</p></div><h2 id="uuid2file" tabindex="-1"><a class="header-anchor" href="#uuid2file"><span><code>uuid2file</code></span></a></h2><p>通过 UUID 获取文件并将其保存为指定格式的文件。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>请先进行轮询查询文件状态，最终处理成功后再调用此函数。</p></div><h3 id="参数-4" tabindex="-1"><a class="header-anchor" href="#参数-4"><span>参数</span></a></h3><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>apikey</code></td><td><code>str</code></td><td>必填</td><td>API 密钥</td></tr><tr><td><code>uuid</code></td><td><code>str</code></td><td>必填</td><td>文件的 UUID</td></tr><tr><td><code>output_format</code></td><td><code>Literal[&quot;md&quot;, &quot;md_dollar&quot;, &quot;latex&quot;, &quot;docx&quot;]</code></td><td>必填</td><td>输出格式</td></tr><tr><td><code>output_path</code></td><td><code>str</code></td><td><code>&quot;./Output&quot;</code></td><td>输出路径</td></tr></tbody></table><h3 id="异常-4" tabindex="-1"><a class="header-anchor" href="#异常-4"><span>异常</span></a></h3><table><thead><tr><th>异常</th><th>描述</th></tr></thead><tbody><tr><td><code>Exception</code></td><td>输入路径不是一个目录</td></tr><tr><td><code>RateLimit</code></td><td>超出速率限制</td></tr><tr><td><code>Exception</code></td><td>下载文件错误</td></tr></tbody></table><h3 id="返回值-4" tabindex="-1"><a class="header-anchor" href="#返回值-4"><span>返回值</span></a></h3><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>str</code></td><td>文件的路径</td></tr></tbody></table><h3 id="注意事项-4" tabindex="-1"><a class="header-anchor" href="#注意事项-4"><span>注意事项</span></a></h3><ul><li>该函数使用 <code>@async_retry()</code> 装饰器，其会在失败时自动退避重试两次。</li></ul><h2 id="get-limit" tabindex="-1"><a class="header-anchor" href="#get-limit"><span><code>get_limit</code></span></a></h2><p>异步函数，用于获取API密钥的剩余额度。</p><h3 id="参数-5" tabindex="-1"><a class="header-anchor" href="#参数-5"><span>参数</span></a></h3><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>apikey</code></td><td><code>str</code></td><td>API密钥</td></tr></tbody></table><h3 id="异常-5" tabindex="-1"><a class="header-anchor" href="#异常-5"><span>异常</span></a></h3><table><thead><tr><th>异常</th><th>描述</th></tr></thead><tbody><tr><td><code>RuntimeError</code></td><td>当密钥无效时抛出</td></tr></tbody></table><h3 id="返回值-5" tabindex="-1"><a class="header-anchor" href="#返回值-5"><span>返回值</span></a></h3><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>int</code></td><td>API密钥的剩余额度</td></tr></tbody></table><h3 id="注意事项-5" tabindex="-1"><a class="header-anchor" href="#注意事项-5"><span>注意事项</span></a></h3><ul><li>该函数使用 <code>@async_retry()</code> 装饰器，其会在失败时自动退避重试两次。</li></ul>',64))])}const u=a(i,[["render",h],["__file","async.html.vue"]]),b=JSON.parse('{"path":"/zh/guide/V1/Doc2X/async.html","title":"使用异步请求","lang":"zh-CN","frontmatter":{"title":"使用异步请求","icon":"rotate","description":"使用以下语句导入所有的异步请求函数： 请求流程 refresh_key 通过个人密钥获取访问令牌access_token。 参数 异常 返回值 注意事项 该函数使用 @async_retry() 装饰器，其会在失败时自动退避重试两次。 upload_pdf 异步上传 PDF 文件到服务器并返回文件的 UUID。 参数 异常 返回值 注意事项 该函数使用...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://menghuan1918.github.io/pdfdeal-docs/pdfdeal-docs/guide/V1/Doc2X/async.html"}],["meta",{"property":"og:url","content":"https://menghuan1918.github.io/pdfdeal-docs/pdfdeal-docs/zh/guide/V1/Doc2X/async.html"}],["meta",{"property":"og:site_name","content":"pdfdeal"}],["meta",{"property":"og:title","content":"使用异步请求"}],["meta",{"property":"og:description","content":"使用以下语句导入所有的异步请求函数： 请求流程 refresh_key 通过个人密钥获取访问令牌access_token。 参数 异常 返回值 注意事项 该函数使用 @async_retry() 装饰器，其会在失败时自动退避重试两次。 upload_pdf 异步上传 PDF 文件到服务器并返回文件的 UUID。 参数 异常 返回值 注意事项 该函数使用..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-10-18T14:17:39.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-18T14:17:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用异步请求\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-18T14:17:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Menghuan1918\\",\\"url\\":\\"https://github.com/Menghuan1918\\"}]}"]]},"headers":[{"level":2,"title":"请求流程","slug":"请求流程","link":"#请求流程","children":[]},{"level":2,"title":"refresh_key","slug":"refresh-key","link":"#refresh-key","children":[{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"异常","slug":"异常","link":"#异常","children":[]},{"level":3,"title":"返回值","slug":"返回值","link":"#返回值","children":[]},{"level":3,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]}]},{"level":2,"title":"upload_pdf","slug":"upload-pdf","link":"#upload-pdf","children":[{"level":3,"title":"参数","slug":"参数-1","link":"#参数-1","children":[]},{"level":3,"title":"异常","slug":"异常-1","link":"#异常-1","children":[]},{"level":3,"title":"返回值","slug":"返回值-1","link":"#返回值-1","children":[]},{"level":3,"title":"注意事项","slug":"注意事项-1","link":"#注意事项-1","children":[]}]},{"level":2,"title":"upload_img","slug":"upload-img","link":"#upload-img","children":[{"level":3,"title":"参数","slug":"参数-2","link":"#参数-2","children":[]},{"level":3,"title":"异常","slug":"异常-2","link":"#异常-2","children":[]},{"level":3,"title":"返回值","slug":"返回值-2","link":"#返回值-2","children":[]},{"level":3,"title":"注意事项","slug":"注意事项-2","link":"#注意事项-2","children":[]}]},{"level":2,"title":"uuid_status","slug":"uuid-status","link":"#uuid-status","children":[{"level":3,"title":"参数","slug":"参数-3","link":"#参数-3","children":[]},{"level":3,"title":"返回值","slug":"返回值-3","link":"#返回值-3","children":[]},{"level":3,"title":"异常","slug":"异常-3","link":"#异常-3","children":[]},{"level":3,"title":"注意事项","slug":"注意事项-3","link":"#注意事项-3","children":[]}]},{"level":2,"title":"uuid2file","slug":"uuid2file","link":"#uuid2file","children":[{"level":3,"title":"参数","slug":"参数-4","link":"#参数-4","children":[]},{"level":3,"title":"异常","slug":"异常-4","link":"#异常-4","children":[]},{"level":3,"title":"返回值","slug":"返回值-4","link":"#返回值-4","children":[]},{"level":3,"title":"注意事项","slug":"注意事项-4","link":"#注意事项-4","children":[]}]},{"level":2,"title":"get_limit","slug":"get-limit","link":"#get-limit","children":[{"level":3,"title":"参数","slug":"参数-5","link":"#参数-5","children":[]},{"level":3,"title":"异常","slug":"异常-5","link":"#异常-5","children":[]},{"level":3,"title":"返回值","slug":"返回值-5","link":"#返回值-5","children":[]},{"level":3,"title":"注意事项","slug":"注意事项-5","link":"#注意事项-5","children":[]}]}],"git":{"createdTime":1723540324000,"updatedTime":1729261059000,"contributors":[{"name":"Menghuan1918","email":"Menghuan2003@outlook.com","commits":1}]},"readingTime":{"minutes":3.56,"words":1067},"filePathRelative":"zh/guide/V1/Doc2X/async.md","localizedDate":"2024年8月13日","autoDesc":true}');export{u as comp,b as data};
